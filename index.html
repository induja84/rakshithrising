<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rakshith Rising ‚Äî Daily Log</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
  <style>
    :root {
      --ink: #1a1a2e;
      --paper: #faf8f3;
      --cream: #f0ece0;
      --gold: #c9a84c;
      --gold-light: #e8d5a3;
      --sage: #7a9e7e;
      --rose: #c47c6e;
      --sky: #6b9ab8;
      --text: #2d2d3a;
      --muted: #8a8a9a;
      --border: #e0dbd0;
      --thriving: #7a9e7e;
      --steady: #c9a84c;
      --hard: #c47c6e;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'DM Sans', sans-serif; background: var(--paper); color: var(--text); min-height: 100vh; }
    header { background: var(--ink); padding: 24px 32px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px; }
    .logo h1 { font-family: 'Playfair Display', serif; font-size: 1.7rem; color: var(--gold); letter-spacing: -0.5px; }
    .logo p { font-size: 0.72rem; color: var(--gold-light); letter-spacing: 3px; text-transform: uppercase; opacity: 0.7; margin-top: 2px; }
    .header-actions { display: flex; gap: 10px; align-items: center; }
    .btn { padding: 8px 18px; border-radius: 6px; border: none; font-family: 'DM Sans', sans-serif; font-size: 0.82rem; font-weight: 500; cursor: pointer; transition: all 0.15s; }
    .btn-gold { background: var(--gold); color: var(--ink); }
    .btn-gold:hover { background: #b8942e; }
    .btn-outline { background: transparent; border: 1px solid rgba(201,168,76,0.4); color: var(--gold-light); }
    .btn-outline:hover { border-color: var(--gold); color: var(--gold); }
    .tabs { background: var(--ink); border-top: 1px solid rgba(255,255,255,0.08); display: flex; gap: 0; padding: 0 32px; }
    .tab { padding: 12px 20px; font-size: 0.8rem; font-weight: 500; color: rgba(201,168,76,0.5); border-bottom: 2px solid transparent; cursor: pointer; transition: all 0.15s; letter-spacing: 0.5px; }
    .tab:hover { color: var(--gold-light); }
    .tab.active { color: var(--gold); border-bottom-color: var(--gold); }
    main { max-width: 960px; margin: 0 auto; padding: 32px 24px; }
    .section-header { display: flex; align-items: baseline; justify-content: space-between; margin-bottom: 24px; }
    .section-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; color: var(--ink); }
    .section-sub { font-size: 0.78rem; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; }
    .card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; box-shadow: 0 1px 4px rgba(0,0,0,0.04); }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
    .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form-group.full { grid-column: 1 / -1; }
    label { font-size: 0.75rem; font-weight: 500; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; }
    input[type="date"], input[type="text"], textarea, select { padding: 10px 14px; border: 1px solid var(--border); border-radius: 8px; font-family: 'DM Sans', sans-serif; font-size: 0.9rem; color: var(--text); background: var(--paper); transition: border 0.15s; outline: none; }
    input:focus, textarea:focus, select:focus { border-color: var(--gold); background: white; }
    textarea { resize: vertical; min-height: 80px; }
    .mood-picker { display: flex; gap: 10px; }
    .mood-btn { flex: 1; padding: 12px 8px; border-radius: 10px; border: 2px solid var(--border); background: var(--paper); cursor: pointer; text-align: center; transition: all 0.15s; font-family: 'DM Sans', sans-serif; }
    .mood-btn .emoji { font-size: 1.5rem; display: block; }
    .mood-btn .label { font-size: 0.72rem; font-weight: 500; color: var(--muted); margin-top: 4px; letter-spacing: 0.5px; }
    .mood-btn.selected-thriving { border-color: var(--thriving); background: #f0f7f1; }
    .mood-btn.selected-thriving .label { color: var(--thriving); }
    .mood-btn.selected-steady { border-color: var(--steady); background: #fdf8ef; }
    .mood-btn.selected-steady .label { color: var(--steady); }
    .mood-btn.selected-hard { border-color: var(--hard); background: #fdf2f0; }
    .mood-btn.selected-hard .label { color: var(--hard); }
    .period-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 8px; }
    .period-badge { padding: 10px 6px; border-radius: 8px; border: 1.5px solid var(--border); background: var(--paper); cursor: pointer; text-align: center; font-size: 0.72rem; font-weight: 500; color: var(--muted); transition: all 0.15s; }
    .period-badge:hover { border-color: var(--sky); color: var(--sky); }
    .period-badge.active { border-color: var(--sky); background: #eef4f8; color: var(--sky); }
    .period-badge .time { font-size: 0.65rem; opacity: 0.75; display: block; margin-top: 2px; }
    .entry-card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 20px; margin-bottom: 14px; display: grid; grid-template-columns: auto 1fr auto; gap: 16px; align-items: start; box-shadow: 0 1px 3px rgba(0,0,0,0.04); transition: box-shadow 0.15s; }
    .entry-card:hover { box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
    .entry-mood-icon { width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; flex-shrink: 0; }
    .mood-thriving .entry-mood-icon { background: #e8f5ea; }
    .mood-steady .entry-mood-icon { background: #fdf6e3; }
    .mood-hard .entry-mood-icon { background: #fdf0ee; }
    .entry-body .date-row { display: flex; align-items: center; gap: 10px; margin-bottom: 6px; }
    .entry-date { font-size: 0.8rem; font-weight: 500; color: var(--muted); }
    .mood-label { font-size: 0.7rem; padding: 2px 10px; border-radius: 20px; font-weight: 500; }
    .mood-thriving .mood-label { background: #e8f5ea; color: var(--thriving); }
    .mood-steady .mood-label { background: #fdf6e3; color: var(--steady); }
    .mood-hard .mood-label { background: #fdf0ee; color: var(--hard); }
    .entry-highlights { font-size: 0.9rem; color: var(--text); margin-bottom: 6px; line-height: 1.5; }
    .entry-notes { font-size: 0.82rem; color: var(--muted); font-style: italic; line-height: 1.5; }
    .entry-periods { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 8px; }
    .period-tag { font-size: 0.68rem; padding: 2px 8px; border-radius: 4px; background: #eef4f8; color: var(--sky); font-weight: 500; }
    .entry-meta { text-align: right; }
    .delete-btn { background: none; border: none; color: #ccc; cursor: pointer; font-size: 0.8rem; padding: 4px; border-radius: 4px; transition: color 0.15s; }
    .delete-btn:hover { color: var(--rose); }
    .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 28px; }
    .stat-card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 20px; text-align: center; }
    .stat-num { font-family: 'Playfair Display', serif; font-size: 2.2rem; font-weight: 900; color: var(--ink); }
    .stat-label { font-size: 0.72rem; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; margin-top: 4px; }
    .trend-section { margin-bottom: 28px; }
    .mood-timeline { display: flex; gap: 6px; align-items: flex-end; height: 60px; padding: 0 4px; overflow-x: auto; padding-bottom: 4px; }
    .timeline-bar { flex-shrink: 0; width: 28px; border-radius: 4px 4px 0 0; position: relative; cursor: default; transition: opacity 0.15s; }
    .timeline-bar:hover { opacity: 0.8; }
    .timeline-bar.thriving { background: var(--thriving); height: 100%; }
    .timeline-bar.steady { background: var(--steady); height: 66%; }
    .timeline-bar.hard { background: var(--hard); height: 33%; }
    .timeline-label { font-size: 0.6rem; color: var(--muted); text-align: center; margin-top: 4px; }
    .timeline-item { display: flex; flex-direction: column; align-items: center; }
    .empty { text-align: center; padding: 60px 20px; color: var(--muted); }
    .empty .icon { font-size: 3rem; margin-bottom: 12px; }
    .empty h3 { font-family: 'Playfair Display', serif; font-size: 1.1rem; color: var(--ink); margin-bottom: 8px; }
    .empty p { font-size: 0.85rem; }
    .view { display: none; }
    .view.active { display: block; }
    @media (max-width: 600px) {
      .form-row { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: 1fr 1fr; }
      header { padding: 16px; }
      main { padding: 20px 16px; }
      .tabs { padding: 0 16px; overflow-x: auto; }
    }
  </style>
</head>
<body>
<header>
  <div class="logo">
    <h1>Rakshith Rising</h1>
    <p>Daily School Log</p>
  </div>
  <div class="header-actions">
    <button class="btn btn-outline" onclick="exportData()">‚¨á Export</button>
    <button class="btn btn-gold" onclick="showView('log')">+ New Entry</button>
  </div>
</header>
<div class="tabs">
  <div class="tab active" onclick="showView('log')" id="tab-log">Add Entry</div>
  <div class="tab" onclick="showView('history')" id="tab-history">History</div>
  <div class="tab" onclick="showView('insights')" id="tab-insights">Insights</div>
</div>
<main>
  <div class="view active" id="view-log">
    <div class="section-header">
      <h2 class="section-title">Today's Log</h2>
      <span class="section-sub" id="today-label"></span>
    </div>
    <div class="card">
      <div class="form-row">
        <div class="form-group">
          <label>Date</label>
          <input type="date" id="entry-date">
        </div>
        <div class="form-group">
          <label>Overall Day</label>
          <div class="mood-picker">
            <div class="mood-btn" onclick="selectMood('Thriving')" id="mood-Thriving"><span class="emoji">üòä</span><span class="label">Thriving</span></div>
            <div class="mood-btn" onclick="selectMood('Steady')" id="mood-Steady"><span class="emoji">üòê</span><span class="label">Steady</span></div>
            <div class="mood-btn" onclick="selectMood('Hard day')" id="mood-Hard day"><span class="emoji">üòû</span><span class="label">Hard day</span></div>
          </div>
        </div>
      </div>
      <div class="form-group" style="margin-bottom:16px">
        <label>Highlights / What Went Well</label>
        <textarea id="entry-highlights" placeholder="e.g. Finished math independently, helped a classmate..."></textarea>
      </div>
      <div class="form-group" style="margin-bottom:16px">
        <label>Challenges / Notes</label>
        <textarea id="entry-challenges" placeholder="e.g. Transition from lunch was hard..."></textarea>
      </div>
      <div class="form-group" style="margin-bottom:16px">
        <label>Periods ‚Äî tap to mark as challenging</label>
        <div class="period-grid" id="period-picker"></div>
      </div>
      <div class="form-group" style="margin-bottom:20px">
        <label>IEP Goal Progress</label>
        <input type="text" id="entry-iep" placeholder="e.g. Used calm-down corner 1x independently...">
      </div>
      <button class="btn btn-gold" style="width:100%;padding:12px;font-size:0.95rem;" onclick="saveEntry()">Save Entry</button>
    </div>
  </div>
  <div class="view" id="view-history">
    <div class="section-header">
      <h2 class="section-title">Log History</h2>
      <span class="section-sub" id="entry-count-label"></span>
    </div>
    <div id="history-list"></div>
  </div>
  <div class="view" id="view-insights">
    <div class="section-header">
      <h2 class="section-title">Insights</h2>
      <span class="section-sub">Last 30 Days</span>
    </div>
    <div class="stats-grid" id="stats-grid"></div>
    <div class="card trend-section">
      <div class="section-header" style="margin-bottom:12px"><span style="font-weight:500;font-size:0.9rem;">Mood Trend</span></div>
      <div class="mood-timeline" id="mood-timeline"></div>
    </div>
    <div class="card">
      <p style="font-size:0.78rem;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:12px">Challenging Periods</p>
      <div id="period-heatmap"></div>
    </div>
  </div>
</main>
<script>
  const PERIODS = [
    { name: 'Morning Meeting', time: '8:15' },
    { name: 'Math', time: '8:45' },
    { name: 'ELA', time: '9:30' },
    { name: 'Specials', time: '10:15' },
    { name: 'Snack', time: '11:00' },
    { name: 'Social Studies', time: '11:15' },
    { name: 'Lunch', time: '12:00' },
    { name: 'Recess', time: '12:30' },
    { name: 'Science', time: '1:00' },
    { name: 'Reading', time: '1:45' },
    { name: 'Dismissal', time: '2:30' }
  ];
  const MOODS = {
    'Thriving': { emoji: 'üòä', color: 'thriving' },
    'Steady':   { emoji: 'üòê', color: 'steady' },
    'Hard day': { emoji: 'üòû', color: 'hard' }
  };
  let selectedMood = '';
  let selectedPeriods = new Set();
  let entries = JSON.parse(localStorage.getItem('rakshith_log') || '[]');
  function init() {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('entry-date').value = today;
    document.getElementById('today-label').textContent = new Date().toLocaleDateString('en-US', { weekday:'long', month:'long', day:'numeric' });
    const pp = document.getElementById('period-picker');
    PERIODS.forEach(p => {
      const d = document.createElement('div');
      d.className = 'period-badge';
      d.id = 'period-' + p.name;
      d.innerHTML = p.name + '<span class="time">' + p.time + '</span>';
      d.onclick = () => togglePeriod(p.name, d);
      pp.appendChild(d);
    });
  }
  function selectMood(mood) {
    selectedMood = mood;
    Object.keys(MOODS).forEach(m => {
      const btn = document.getElementById('mood-' + m);
      if (btn) btn.className = 'mood-btn' + (m === mood ? ' selected-' + MOODS[m].color : '');
    });
  }
  function togglePeriod(name, el) {
    if (selectedPeriods.has(name)) { selectedPeriods.delete(name); el.classList.remove('active'); }
    else { selectedPeriods.add(name); el.classList.add('active'); }
  }
  function saveEntry() {
    const date = document.getElementById('entry-date').value;
    const highlights = document.getElementById('entry-highlights').value.trim();
    const challenges = document.getElementById('entry-challenges').value.trim();
    const iep = document.getElementById('entry-iep').value.trim();
    if (!date) { alert('Please select a date'); return; }
    if (!selectedMood) { alert('Please select an overall mood'); return; }
    const entry = { id: Date.now(), date, mood: selectedMood, highlights, challenges, iep, periods: [...selectedPeriods] };
    entries.unshift(entry);
    localStorage.setItem('rakshith_log', JSON.stringify(entries));
    document.getElementById('entry-highlights').value = '';
    document.getElementById('entry-challenges').value = '';
    document.getElementById('entry-iep').value = '';
    selectMood('');
    selectedPeriods.clear();
    document.querySelectorAll('.period-badge').forEach(b => b.classList.remove('active'));
    showView('history');
    alert('Entry saved!');
  }
  function deleteEntry(id) {
    if (!confirm('Delete this entry?')) return;
    entries = entries.filter(e => e.id !== id);
    localStorage.setItem('rakshith_log', JSON.stringify(entries));
    renderHistory();
  }
  function renderHistory() {
    const list = document.getElementById('history-list');
    document.getElementById('entry-count-label').textContent = entries.length + ' entries';
    if (entries.length === 0) {
      list.innerHTML = '<div class="empty"><div class="icon">üìì</div><h3>No entries yet</h3><p>Start logging Rakshith\'s days.</p></div>';
      return;
    }
    list.innerHTML = entries.map(e => {
      const m = MOODS[e.mood] || MOODS['Steady'];
      const dateStr = e.date ? new Date(e.date + 'T12:00:00').toLocaleDateString('en-US', { weekday:'short', month:'short', day:'numeric', year:'numeric' }) : '';
      const periodTags = e.periods && e.periods.length > 0 ? '<div class="entry-periods">' + e.periods.map(p => '<span class="period-tag">' + p + '</span>').join('') + '</div>' : '';
      return '<div class="entry-card mood-' + m.color + '"><div class="entry-mood-icon">' + m.emoji + '</div><div class="entry-body"><div class="date-row"><span class="entry-date">' + dateStr + '</span><span class="mood-label">' + e.mood + '</span></div>' + (e.highlights ? '<p class="entry-highlights">' + e.highlights + '</p>' : '') + (e.challenges ? '<p class="entry-notes">' + e.challenges + '</p>' : '') + (e.iep ? '<p class="entry-notes" style="color:var(--sage);font-style:normal;margin-top:6px">üéØ ' + e.iep + '</p>' : '') + periodTags + '</div><div class="entry-meta"><button class="delete-btn" onclick="deleteEntry(' + e.id + ')">‚úï</button></div></div>';
    }).join('');
  }
  function renderInsights() {
    const recent = entries.slice(0, 30);
    const counts = { Thriving: 0, Steady: 0, 'Hard day': 0 };
    recent.forEach(e => { if (counts[e.mood] !== undefined) counts[e.mood]++; });
    const periodCount = {};
    recent.forEach(e => (e.periods || []).forEach(p => { periodCount[p] = (periodCount[p] || 0) + 1; }));
    document.getElementById('stats-grid').innerHTML = '<div class="stat-card"><div class="stat-num" style="color:var(--thriving)">' + counts.Thriving + '</div><div class="stat-label">üòä Thriving Days</div></div><div class="stat-card"><div class="stat-num" style="color:var(--steady)">' + counts.Steady + '</div><div class="stat-label">üòê Steady Days</div></div><div class="stat-card"><div class="stat-num" style="color:var(--hard)">' + counts['Hard day'] + '</div><div class="stat-label">üòû Hard Days</div></div>';
    const timeline = document.getElementById('mood-timeline');
    const last20 = [...recent].reverse().slice(-20);
    if (last20.length === 0) { timeline.innerHTML = '<p style="color:var(--muted);font-size:0.82rem;padding:20px">No data yet</p>'; }
    else { timeline.innerHTML = last20.map(e => { const m = MOODS[e.mood] || MOODS['Steady']; const d = new Date(e.date + 'T12:00:00'); const label = (d.getMonth()+1) + '/' + d.getDate(); return '<div class="timeline-item"><div class="timeline-bar ' + m.color + '" title="' + e.date + ': ' + e.mood + '"></div><div class="timeline-label">' + label + '</div></div>'; }).join(''); }
    const heatmap = document.getElementById('period-heatmap');
    const sorted = Object.entries(periodCount).sort((a,b) => b[1]-a[1]);
    if (sorted.length === 0) { heatmap.innerHTML = '<p style="color:var(--muted);font-size:0.82rem">No challenging periods logged yet.</p>'; }
    else { const max = sorted[0][1]; heatmap.innerHTML = sorted.map(([period, count]) => { const pct = Math.max(8, Math.round(count / max * 100)); return '<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px"><div style="width:120px;font-size:0.8rem;color:var(--text)">' + period + '</div><div style="flex:1;background:#f5f5f5;border-radius:4px;height:14px;overflow:hidden"><div style="height:100%;width:' + pct + '%;background:var(--rose);border-radius:4px"></div></div><div style="font-size:0.75rem;color:var(--muted);width:30px;text-align:right">' + count + 'x</div></div>'; }).join(''); }
  }
  function showView(name) {
    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById('view-' + name).classList.add('active');
    document.getElementById('tab-' + name).classList.add('active');
    if (name === 'history') renderHistory();
    if (name === 'insights') renderInsights();
  }
  function exportData() {
    const json = JSON.stringify(entries, null, 2);
    const blob = new Blob([json], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'rakshith-log-' + new Date().toISOString().split('T')[0] + '.json';
    a.click();
    URL.revokeObjectURL(url);
  }
  init();
</script>
</body>
</html>
